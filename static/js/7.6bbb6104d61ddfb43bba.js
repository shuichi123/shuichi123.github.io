webpackJsonp([7],{xjxo:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default="\n<script>\n{\n    function observe(value, cb) {\n        Object.keys(value).forEach((key) => defineReactive(value, key, value[key] , cb))\n    }\n    \n    function defineReactive (obj, key, val, cb) {\n        Object.defineProperty(obj, key, {\n            enumerable: true,\n            configurable: true,\n            get: ()=>{\n                /*....依赖收集等....*/\n                console.log('getter')\n                return val\n            },\n            set:newVal=> {\n              if (val === newVal) {\n                return\n              }\n              val = newVal\n              console.log('setter')\n              cb();/*订阅者收到消息的回调*/\n            }\n        })\n    }\n\n    /*代理*/\n    function _proxy (data) {\n        const that = this;\n        Object.keys(data).forEach(key => {\n            Object.defineProperty(that, key, {\n                configurable: true,\n                enumerable: true,\n                get: function proxyGetter () {\n                    return that.$data[key];\n                },\n                set: function proxySetter (val) {\n                    that.$data[key] = val;\n                }\n            })\n        });\n    }\n    \n    class Vue {\n        constructor(options) {\n            this.$data = options.data;\n            _proxy.call(this, options.data);\n            observe(this.$data, options.render)\n        }\n    }\n    \n    let app = new Vue({\n        el: '#app',\n        data: {\n            text: 'text',\n            text2: 'text2'\n        },\n        render(){\n            console.log(\"render\");\n        }\n    })\n    console.log(app)\n    app.text = 'test'\n}\n<\/script>\n"}});
//# sourceMappingURL=7.6bbb6104d61ddfb43bba.js.map