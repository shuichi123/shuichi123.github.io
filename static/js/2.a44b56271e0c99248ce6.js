webpackJsonp([2],{a3Yh:function(e,t,i){"use strict";t.__esModule=!0;var o,r=i("liLe"),n=(o=r)&&o.__esModule?o:{default:o};t.default=function(e,t,i){return t in e?(0,n.default)(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},fBQ6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("3cXf"),r=i.n(o),n=i("4YfN"),l=i.n(n),a=i("a3Yh"),c=i.n(a),u=i("9rMa"),s=i("EMlb"),f={data:function(){return{activeTab:"base",loading:!1,configureSha:null,configure:{webSites:[]},initConfigure:{},rules:c()({githubUsername:[{required:!0,message:"请输入用户名",trigger:"blur"}],blogTitle:[]},"blogTitle",[]),submitButton:{loading:!1,disabled:!1},predefineColors:["#ff4500","#ff8c00","#ffd700","#CCFC2D","#90ee90","#2DFCA6","#00ced1","#1e90ff","#c71585","#FC2DEB"]}},computed:l()({},Object(u.b)(["token"])),mounted:function(){var e=this;this.token?(this.loading=!0,s.a.getBlogConfigure().then(function(t){var o=t.data,n=i("BvhE").Base64.decode(o.content);e.configure=JSON.parse(n),e.configure.webSites||e.$set(e.configure,"webSites",[]),e.initConfigure=JSON.parse(r()(e.configure)),e.configureSha=o.sha}).then(function(){return e.loading=!1})):this.$nextTick(function(){e.$message({message:"权限不足",type:"error"}),e.$router.go(-1)})},methods:{submit:function(){var e=this;this.$refs.configureForm.validate(function(t){t&&(e.submitButton.loading=!0,e.submitButton.disabled=!0,s.a.editBlogConfigure(e.configure,e.configureSha).then(function(t){var i=t.data;e.configureSha=i.content.sha,e.initConfigure=JSON.parse(r()(e.configure)),e.$store.dispatch("LocalReload",e.configure),e.$notify({title:"成功",message:"修改配置成功",type:"success"})}).then(function(){e.submitButton.loading=!1,e.submitButton.disabled=!1}))})},reset:function(){this.configure=JSON.parse(r()(this.initConfigure))},addWebSites:function(){this.configure.webSites.length>=5?this.$message("站点太多显示效果不好"):this.configure.webSites.push({})},removeWebSites:function(e){this.configure.webSites.splice(e,1)}}},g={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"min-height":"800px"}},[i("el-card",{staticStyle:{"min-height":"400px","margin-bottom":"20px"},attrs:{shadow:"never"}},[i("el-form",{ref:"configureForm",attrs:{model:e.configure,rules:e.rules,"label-width":"100px"}},[i("el-tabs",{attrs:{type:"card"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[i("el-tab-pane",{staticStyle:{padding:"5px"},attrs:{label:"基础配置",name:"base"}},[i("el-form-item",{attrs:{label:"用户名",prop:"githubUsername"}},[i("el-input",{attrs:{disabled:""},model:{value:e.configure.githubUsername,callback:function(t){e.$set(e.configure,"githubUsername",t)},expression:"configure.githubUsername"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"博客标题",prop:"blogTitle"}},[i("el-input",{attrs:{placeholder:e.configure.githubUsername},model:{value:e.configure.blogTitle,callback:function(t){e.$set(e.configure,"blogTitle",t)},expression:"configure.blogTitle"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"博客描述",prop:"blogDescribe"}},[i("el-input",{attrs:{placeholder:"欢迎来到"+e.configure.githubUsername+"的个人博客。"},model:{value:e.configure.blogDescribe,callback:function(t){e.$set(e.configure,"blogDescribe",t)},expression:"configure.blogDescribe"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"页面标题",prop:"htmlTitle"}},[i("el-input",{attrs:{placeholder:e.configure.githubUsername+"的博客"},model:{value:e.configure.htmlTitle,callback:function(t){e.$set(e.configure,"htmlTitle",t)},expression:"configure.htmlTitle"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"音乐链接",prop:"audioUrl"}},[i("el-input",{attrs:{placeholder:"背景音乐链接"},model:{value:e.configure.audioUrl,callback:function(t){e.$set(e.configure,"audioUrl",t)},expression:"configure.audioUrl"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"自动播放"}},[i("el-switch",{model:{value:e.configure.audioAutoPlay,callback:function(t){e.$set(e.configure,"audioAutoPlay",t)},expression:"configure.audioAutoPlay"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"极简模式"}},[i("el-switch",{model:{value:e.configure.mini,callback:function(t){e.$set(e.configure,"mini",t)},expression:"configure.mini"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"使用背景图"}},[i("el-switch",{model:{value:e.configure.useBackgroundImage,callback:function(t){e.$set(e.configure,"useBackgroundImage",t)},expression:"configure.useBackgroundImage"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"文字颜色"}},[i("el-color-picker",{model:{value:e.configure.fontColor,callback:function(t){e.$set(e.configure,"fontColor",t)},expression:"configure.fontColor"}})],1),e._v(" "),e.configure.useBackgroundImage?e._e():i("div",[i("el-row",[i("el-col",{attrs:{span:3}},[i("el-form-item",{attrs:{label:"背景颜色"}},[i("el-color-picker",{attrs:{predefine:e.predefineColors},model:{value:e.configure.backgroundColorLeft,callback:function(t){e.$set(e.configure,"backgroundColorLeft",t)},expression:"configure.backgroundColorLeft"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:21}},[i("el-form-item",[i("el-color-picker",{attrs:{predefine:e.predefineColors},model:{value:e.configure.backgroundColorRight,callback:function(t){e.$set(e.configure,"backgroundColorRight",t)},expression:"configure.backgroundColorRight"}})],1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"效果",prop:"htmlTitle"}},[i("div",{style:"background-image: linear-gradient(120deg, "+e.configure.backgroundColorLeft+", "+e.configure.backgroundColorRight+");border-radius: 5px;border: 1px solid #F2F6FC;width:300px;height:100px;"},[i("div",{style:"color: "+e.configure.fontColor+";text-align: center;padding-top:25px;font-size:35px"},[i("b",[e._v("标题")])])])])],1),e._v(" "),e.configure.useBackgroundImage?i("div",[i("el-form-item",{attrs:{label:"背景图片"}},[i("el-upload",{attrs:{action:"","auto-upload":!1,drag:""}},[i("i",{staticClass:"el-icon-upload"}),e._v(" "),i("div",[e._v("将文件拖到此处 (暂不支持上传图片)")])])],1)],1):e._e()],1),e._v(" "),i("el-tab-pane",{staticStyle:{padding:"5px"},attrs:{label:"扩展配置",name:"extend"}},[i("el-form-item",{attrs:{label:"其他网站"}},[e._l(e.configure.webSites,function(t,o){return i("el-row",{key:"webSites"+o,staticStyle:{"margin-bottom":"10px"}},[i("el-col",{staticStyle:{"padding-right":"10px"},attrs:{span:8}},[i("el-input",{attrs:{placeholder:"网站名字 例如: V2EX"},model:{value:e.configure.webSites[o].name,callback:function(t){e.$set(e.configure.webSites[o],"name",t)},expression:"configure.webSites[index].name"}})],1),e._v(" "),i("el-col",{staticStyle:{"padding-right":"10px"},attrs:{span:14}},[i("el-input",{attrs:{placeholder:"完整URL 例如: https://..."},model:{value:t.url,callback:function(i){e.$set(t,"url",i)},expression:"item.url"}})],1),e._v(" "),i("el-col",{attrs:{span:2}},[i("el-button",{staticStyle:{float:"right"},attrs:{icon:"el-icon-delete",type:"danger",circle:""},on:{click:function(t){return e.removeWebSites(o)}}})],1)],1)}),e._v(" "),i("el-button",{staticStyle:{float:"right"},attrs:{icon:"el-icon-plus",type:"success",circle:""},on:{click:e.addWebSites}})],2)],1)],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{loading:e.submitButton.loading,disabled:e.submitButton.disabled,type:"primary"},on:{click:e.submit}},[e._v("修改配置")]),e._v(" "),i("el-button",{on:{click:e.reset}},[e._v("还原")]),e._v(" "),i("el-popover",{attrs:{placement:"top-end",width:"200",trigger:"click",content:"打开极简模式将隐藏部分不主要的菜单, 音乐链接需要是媒体 (不可以是HTML页面)"}},[i("el-button",{staticStyle:{float:"right"},attrs:{slot:"reference",icon:"el-icon-question",type:"text"},slot:"reference"},[e._v("说明")])],1)],1)],1)],1)],1)},staticRenderFns:[]},d=i("C7Lr")(f,g,!1,null,null,null);t.default=d.exports},lbsL:function(e,t,i){i("ngi5");var o=i("Rv9F").Object;e.exports=function(e,t,i){return o.defineProperty(e,t,i)}},liLe:function(e,t,i){e.exports={default:i("lbsL"),__esModule:!0}},ngi5:function(e,t,i){var o=i("8leu");o(o.S+o.F*!i("berT"),"Object",{defineProperty:i("Mr+r").f})}});
//# sourceMappingURL=2.a44b56271e0c99248ce6.js.map